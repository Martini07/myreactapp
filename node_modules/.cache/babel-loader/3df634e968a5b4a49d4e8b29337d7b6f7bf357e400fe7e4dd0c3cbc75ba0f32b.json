{"ast":null,"code":"var _jsxFileName = \"/home/ec2-user/environment/myreactapp/src/App.js\",\n  _s = $RefreshSig$();\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React, { useEffect, useState, Fragment } from \"react\";\nimport { Auth, Hub } from \"aws-amplify\";\nimport { Container } from \"react-bootstrap\";\nimport { Amplify } from \"aws-amplify\";\nimport Navigation from \"./components/Navigation.js\";\nimport FederatedSignIn from \"./components/FederatedSignIn.js\";\nimport MainRequest from \"./components/MainRequest.js\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nAmplify.configure({\n  Auth: {\n    region: \"eu-west-1\",\n    userPoolId: \"eu-west-1_tPV5Iolro\",\n    userPoolWebClientId: \"60a1thkpk9oidur587npi9l9f6\",\n    oauth: {\n      domain: \"https://ffmarti-domain.auth.eu-west-1.amazoncognito.com\",\n      scope: [\"email\", \"openid\", \"aws.cognito.signin.user.admin\", \"profile\"],\n      redirectSignIn: \"https://main.d1dr6t0vuawcp3.amplifyapp.com/\",\n      redirectSignOut: \"https://main.d1dr6t0vuawcp3.amplifyapp.com/\",\n      responseType: \"code\"\n    }\n  },\n  API: {\n    endpoints: [{\n      name: \"HelloAPI\",\n      endpoint: \"https://7u9sv5rx7k.execute-api.eu-west-1.amazonaws.com/dev\"\n    }]\n  }\n});\nconst federatedIdName = \"Azure-IDP\";\nfunction App() {\n  _s();\n  const [token, setToken] = useState(null);\n  useEffect(() => {\n    Hub.listen(\"auth\", ({\n      payload: {\n        event,\n        data\n      }\n    }) => {\n      switch (event) {\n        case \"signIn\":\n        case \"cognitoHostedUI\":\n          setToken(\"grating...\");\n          getToken().then(userToken => setToken(userToken.idToken.jwtToken));\n          break;\n        case \"signOut\":\n          setToken(null);\n          break;\n        case \"signIn_failure\":\n        case \"cognitoHostedUI_failure\":\n          console.log(\"Sign in failure\", data);\n          break;\n        default:\n          break;\n      }\n    });\n  }, []);\n  function getToken() {\n    return Auth.currentSession().then(session => session).catch(err => console.log(err));\n  }\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navigation, {\n      token: token\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), token ? /*#__PURE__*/_jsxDEV(MainRequest, {\n        token: token\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(FederatedSignIn, {\n        federatedIdName: federatedIdName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"SSLzquenZQzOMzU62DrezfOo2pU=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Fragment","Auth","Hub","Container","Amplify","Navigation","FederatedSignIn","MainRequest","jsxDEV","_jsxDEV","configure","region","userPoolId","userPoolWebClientId","oauth","domain","scope","redirectSignIn","redirectSignOut","responseType","API","endpoints","name","endpoint","federatedIdName","App","_s","token","setToken","listen","payload","event","data","getToken","then","userToken","idToken","jwtToken","console","log","currentSession","session","catch","err","children","fileName","_jsxFileName","lineNumber","columnNumber","fluid","_c","$RefreshReg$"],"sources":["/home/ec2-user/environment/myreactapp/src/App.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: MIT-0\n\nimport React, {useEffect, useState, Fragment} from \"react\";\nimport {Auth, Hub} from \"aws-amplify\";\nimport {Container} from \"react-bootstrap\";\nimport { Amplify } from \"aws-amplify\";\nimport Navigation from \"./components/Navigation.js\";\nimport FederatedSignIn from \"./components/FederatedSignIn.js\";\nimport MainRequest from \"./components/MainRequest.js\";\nimport \"./App.css\";\n\nAmplify.configure({\n  Auth: {\n    region: \"eu-west-1\",\n    userPoolId: \"eu-west-1_tPV5Iolro\",\n    userPoolWebClientId: \"60a1thkpk9oidur587npi9l9f6\",\n    oauth: {\n      domain: \"https://ffmarti-domain.auth.eu-west-1.amazoncognito.com\",\n      scope: [\"email\", \"openid\", \"aws.cognito.signin.user.admin\", \"profile\"],\n      redirectSignIn: \"https://main.d1dr6t0vuawcp3.amplifyapp.com/\",\n      redirectSignOut: \"https://main.d1dr6t0vuawcp3.amplifyapp.com/\",\n      responseType: \"code\"\n    }\n  },\n  API: {\n    endpoints: [\n      {\n        name: \"HelloAPI\",\n        endpoint: \"https://7u9sv5rx7k.execute-api.eu-west-1.amazonaws.com/dev\"\n      }\n    ]\n  }\n});\n\nconst federatedIdName =\n  \"Azure-IDP\";\n\nfunction App() {\n  const [token, setToken] = useState(null);\n\n  useEffect(() => {\n    Hub.listen(\"auth\", ({payload: {event, data}}) => {\n      switch (event) {\n        case \"signIn\":\n        case \"cognitoHostedUI\":\n          setToken(\"grating...\");\n          getToken().then(userToken => setToken(userToken.idToken.jwtToken));\n          break;\n        case \"signOut\":\n          setToken(null);\n          break;\n        case \"signIn_failure\":\n        case \"cognitoHostedUI_failure\":\n          console.log(\"Sign in failure\", data);\n          break;\n        default:\n          break;\n      }\n    });\n  }, []);\n\n  function getToken() {\n    return Auth.currentSession()\n      .then(session => session)\n      .catch(err => console.log(err));\n  }\n\n  return (\n    <Fragment>\n      <Navigation token={token} />\n      <Container fluid>\n        <br />\n        {token ? (\n          <MainRequest token={token} />\n        ) : (\n          <FederatedSignIn federatedIdName={federatedIdName} />\n        )}\n      </Container>\n    </Fragment>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}